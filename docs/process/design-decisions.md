# 設計判断プロセス

## 概要

プロジェクト開発における技術的・アーキテクチャ的な設計判断を行うためのプロセスと記録方法を定義します。

## 設計判断の基本原則

### 1. 判断基準の明確化

#### 技術的観点
- **パフォーマンス**: レスポンス時間、スループット、メモリ使用量
- **保守性**: コード可読性、テスタビリティ、モジュール性
- **拡張性**: 機能追加の容易さ、スケールアウト対応
- **セキュリティ**: 脆弱性対策、データ保護、アクセス制御

#### 事業的観点
- **開発効率**: 実装速度、学習コスト、開発者体験
- **運用コスト**: インフラ費用、保守費用、監視コスト
- **リスク**: 技術的負債、ベンダーロックイン、廃止リスク

### 2. 判断プロセス

#### ステップ1: 課題の明確化
- 解決すべき問題の詳細な分析
- 制約条件の整理
- 成功条件の定義

#### ステップ2: 選択肢の洗い出し
- 技術的アプローチの複数案検討
- 既存ライブラリ・フレームワークの調査
- 自作 vs 外部依存の検討

#### ステップ3: 比較評価
- 判断基準に基づく定量的評価
- プロトタイプによる検証
- チーム内でのディスカッション

#### ステップ4: 決定と記録
- 最終判断とその根拠
- 代替案を選ばなかった理由
- 将来的な見直し条件

## 設計判断記録（ADR: Architecture Decision Record）

### 記録テンプレート

```markdown
# ADR-[番号]: [判断タイトル]

## ステータス
[決定済み/検討中/却下/廃止]

## コンテキスト
[背景と問題の説明]

## 決定内容
[採用した解決策]

## 結果
[この決定によって生じる影響]

## 検討した選択肢
- 選択肢A: [内容と評価]
- 選択肢B: [内容と評価]
- 選択肢C: [内容と評価]

## 決定理由
[なぜこの選択肢を選んだか]

## 影響
- ポジティブな影響
- ネガティブな影響
- リスクと軽減策

## 見直し条件
[どのような状況で再検討するか]

## 関連ADR
[関連する他の決定事項]
```

### 記録すべき判断

#### アーキテクチャレベル
- システム全体の構成パターン
- データベース設計方針
- API設計戦略
- セキュリティアーキテクチャ

#### 技術スタックレベル
- フレームワーク選択
- ライブラリ選択
- 開発ツール選択
- デプロイ戦略

#### 実装レベル
- コーディング規約
- テスト戦略
- エラーハンドリング方針
- ログ出力方針

## Claude Code との協働における設計判断

### 効果的な相談方法

#### 準備すべき情報
- 現在の技術スタック
- プロジェクトの制約条件
- パフォーマンス要件
- 既存コードの構造

#### 相談時のポイント
- 複数の選択肢を提示して比較
- 具体的なコード例での検証
- 段階的な実装計画の相談
- テスト可能性の考慮

### 判断品質の向上

#### 継続的改善
- 過去の判断結果の振り返り
- 実装後の影響分析
- チーム内での知見共有
- 外部事例の調査

#### 文書化の重要性
- 決定プロセスの透明性確保
- 新メンバーへの知識伝達
- 将来の設計変更時の参考資料
- Claude Code への効果的な文脈提供

## 関連ドキュメント

- [プロジェクト企画ガイド](./project-planning.md)
- [協働ワークフロー](./collaboration-workflow.md)
- [アーキテクチャガイド](../standards/architecture.md)
- [開発ワークフロー](../standards/development-workflow.md)